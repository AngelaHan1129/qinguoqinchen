// backend/scripts/import-legal-regulations.js
const { LegalVectorManager } = require('../src/services/legal-vector-manager.js');

async function importDefaultRegulations() {
    const vectorManager = new LegalVectorManager();

    const regulations = [
        {
            title: 'å€‹äººè³‡æ–™ä¿è­·æ³•',
            content: `ç¬¬1æ¢ ç‚ºè¦ç¯„å€‹äººè³‡æ–™ä¹‹è’é›†ã€è™•ç†åŠåˆ©ç”¨ï¼Œä»¥é¿å…äººæ ¼æ¬Šå—ä¾µå®³ï¼Œä¸¦ä¿ƒé€²å€‹äººè³‡æ–™ä¹‹åˆç†åˆ©ç”¨ï¼Œç‰¹åˆ¶å®šæœ¬æ³•ã€‚

ç¬¬6æ¢ æœ‰é—œé†«ç™‚ã€åŸºå› ã€æ€§ç”Ÿæ´»ã€å¥åº·æª¢æŸ¥åŠçŠ¯ç½ªå‰ç§‘ä¹‹å€‹äººè³‡æ–™ï¼Œä¸å¾—è’é›†ã€è™•ç†æˆ–åˆ©ç”¨ã€‚ä½†æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€è€…ï¼Œä¸åœ¨æ­¤é™ï¼š
ä¸€ã€æ³•å¾‹æ˜Žæ–‡è¦å®šã€‚
äºŒã€å…¬å‹™æ©Ÿé—œåŸ·è¡Œæ³•å®šè·å‹™æˆ–éžå…¬å‹™æ©Ÿé—œå±¥è¡Œæ³•å®šç¾©å‹™å¿…è¦ç¯„åœå…§ï¼Œä¸”äº‹å‰æˆ–äº‹å¾Œæœ‰é©ç•¶å®‰å…¨ç¶­è­·æŽªæ–½ã€‚
ä¸‰ã€ç•¶äº‹äººè‡ªè¡Œå…¬é–‹æˆ–å…¶ä»–å·²åˆæ³•å…¬é–‹ä¹‹å€‹äººè³‡æ–™ã€‚
å››ã€å…¬å‹™æ©Ÿé—œæˆ–å­¸è¡“ç ”ç©¶æ©Ÿæ§‹åŸºæ–¼é†«ç™‚ã€è¡›ç”Ÿæˆ–çŠ¯ç½ªé é˜²ä¹‹ç›®çš„ï¼Œç‚ºçµ±è¨ˆæˆ–å­¸è¡“ç ”ç©¶è€Œæœ‰å¿…è¦ï¼Œä¸”è³‡æ–™ç¶“éŽæä¾›è€…è™•ç†å¾Œæˆ–è’é›†è€…ä¾å…¶æ­éœ²æ–¹å¼ç„¡å¾žè­˜åˆ¥ç‰¹å®šä¹‹ç•¶äº‹äººã€‚
äº”ã€ç‚ºå”åŠ©å…¬å‹™æ©Ÿé—œåŸ·è¡Œæ³•å®šè·å‹™æˆ–éžå…¬å‹™æ©Ÿé—œå±¥è¡Œæ³•å®šç¾©å‹™å¿…è¦ç¯„åœå…§ï¼Œä¸”äº‹å‰æˆ–äº‹å¾Œæœ‰é©ç•¶å®‰å…¨ç¶­è­·æŽªæ–½ã€‚
å…­ã€ç¶“ç•¶äº‹äººæ›¸é¢åŒæ„ã€‚
ä¸ƒã€èˆ‡ç•¶äº‹äººæœ‰å¥‘ç´„æˆ–é¡žä¼¼å¥‘ç´„ä¹‹é—œä¿‚ï¼Œä¸”å·²æŽ¡å–é©ç•¶ä¹‹å®‰å…¨æŽªæ–½ã€‚

ç¬¬47æ¢ æ„åœ–ç‡Ÿåˆ©ï¼Œé•åç¬¬å…­æ¢ç¬¬ä¸€é …è¦å®šï¼Œè¶³ç”Ÿæå®³æ–¼ä»–äººè€…ï¼Œè™•äº”å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ï¼Œå¾—ä½µç§‘æ–°è‡ºå¹£ä¸€ç™¾è¬å…ƒä»¥ä¸‹ç½°é‡‘ã€‚`,
            source: 'MOJ',
            document_type: 'law',
            jurisdiction: 'Taiwan',
            metadata: {
                lawType: 'civil',
                industryScope: ['all'],
                complianceLevel: 'mandatory',
                tags: ['å€‹è³‡ä¿è­·', 'ç”Ÿç‰©ç‰¹å¾µ', 'eKYC'],
                penalties: {
                    criminal: '5å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘',
                    fine: '100è¬å…ƒä»¥ä¸‹ç½°é‡‘'
                }
            }
        },
        {
            title: 'è³‡é€šå®‰å…¨ç®¡ç†æ³•',
            content: `ç¬¬14æ¢ é—œéµåŸºç¤Žè¨­æ–½æä¾›è€…ç™¼ç¾è³‡é€šå®‰å…¨äº‹ä»¶æ™‚ï¼Œæ‡‰ç«‹å³æŽ¡å–æ‡‰è®ŠæŽªæ–½åŠèª¿æŸ¥é‘‘è­˜ï¼Œä¸¦æ–¼äº‹ä»¶ç™¼ç¾å¾Œä¸ƒåäºŒå°æ™‚å…§é€šå ±ä¸»ç®¡æ©Ÿé—œã€‚

ç¬¬22æ¢ é•åç¬¬åå››æ¢ç¬¬ä¸€é …è¦å®šï¼Œæœªæ–¼è¦å®šæ™‚é–“å…§é€šå ±è€…ï¼Œè™•æ–°è‡ºå¹£ä¸‰åè¬å…ƒä»¥ä¸Šä¸€ç™¾äº”åè¬å…ƒä»¥ä¸‹ç½°é°ã€‚`,
            source: 'MOJ',
            document_type: 'law',
            jurisdiction: 'Taiwan',
            metadata: {
                lawType: 'administrative',
                industryScope: ['critical-infrastructure'],
                complianceLevel: 'mandatory',
                tags: ['è³‡é€šå®‰å…¨', 'äº‹ä»¶é€šå ±'],
                penalties: {
                    fine: '30-150è¬å…ƒç½°é°'
                }
            }
        },
        {
            title: 'é‡‘èžæ©Ÿæ§‹è³‡è¨Šå®‰å…¨ç®¡ç†è¾¦æ³•',
            content: `ç¬¬14æ¢ é‡‘èžæ©Ÿæ§‹ç™¼ç”Ÿè³‡è¨Šå®‰å…¨äº‹ä»¶æ™‚ï¼Œæ‡‰ç«‹å³æŸ¥æ˜ŽåŠæŽ§åˆ¶æå®³ç¯„åœï¼Œä¸¦æ–¼äº‹ä»¶ç™¼ç”Ÿå¾ŒäºŒåå››å°æ™‚å…§ï¼Œå‘ä¸»ç®¡æ©Ÿé—œç”³å ±ã€‚

ç¬¬27æ¢ é•åç¬¬åå››æ¢è¦å®šè€…ï¼Œè™•æ–°è‡ºå¹£äºŒåè¬å…ƒä»¥ä¸Šä¸€ç™¾è¬å…ƒä»¥ä¸‹ç½°é°ã€‚`,
            source: 'FSC',
            document_type: 'regulation',
            jurisdiction: 'Taiwan',
            metadata: {
                lawType: 'administrative',
                industryScope: ['finance'],
                complianceLevel: 'mandatory',
                tags: ['é‡‘èžè³‡å®‰', 'äº‹ä»¶é€šå ±'],
                penalties: {
                    fine: '20-100è¬å…ƒç½°é°'
                }
            }
        }
    ];

    console.log('ðŸ“š é–‹å§‹åŒ¯å…¥é è¨­æ³•è¦è³‡æ–™...');
    const result = await vectorManager.ingestLegalDocumentsWithVectorization(regulations);

    console.log('âœ… æ³•è¦è³‡æ–™åŒ¯å…¥å®Œæˆï¼');
    console.log(`ç¸½è¨ˆ: ${result.total}, æˆåŠŸ: ${result.successful}, å¤±æ•—: ${result.failed}`);

    return result;
}

if (require.main === module) {
    importDefaultRegulations()
        .then(result => {
            console.log('åŒ¯å…¥çµæžœ:', result);
            process.exit(0);
        })
        .catch(error => {
            console.error('åŒ¯å…¥å¤±æ•—:', error);
            process.exit(1);
        });
}

module.exports = { importDefaultRegulations };
